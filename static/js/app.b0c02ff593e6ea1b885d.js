webpackJsonp([1],{0:function(e,t){},"6ui9":function(e,t){},BytU:function(e,t){},"Cp7+":function(e,t){},Huu6:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("div",{staticClass:"container"},[t("div",{staticClass:"logo"},[t("router-link",{attrs:{to:"/hellowworld"}},[t("i",{staticClass:"fab fa-youtube fa-3x"}),this._v(" "),t("h2",[this._v("Youtube")])])],1),this._v(" "),t("nav",{staticClass:"nav"},[t("router-link",{staticClass:"nav-item",attrs:{to:"/helloworld"}},[this._v("首頁")]),this._v(" "),t("router-link",{staticClass:"nav-item",attrs:{to:"/collect"}},[this._v("我的最愛")])],1)])])},staticRenderFns:[]};var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"footer"},[t("div",[t("h3",[this._v("YoutubeV3")])]),this._v(" "),t("div",{staticClass:"copyright"},[t("p",[this._v("© copyright 2020 by Shawn")]),this._v(" "),t("p",[this._v("此作為練習用，無商業用途")]),this._v(" "),t("p",[this._v("\n      出處:Google APIs - YouTube Data API v3\n    ")])])])}]};var s={name:"App",components:{Navbar:n("VU/8")(null,r,!1,function(e){n("eoFw")},"data-v-8d33d124",null).exports,Footer:n("VU/8")(null,i,!1,function(e){n("BytU")},"data-v-8efff88c",null).exports}},o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"content"},[t("Navbar"),this._v(" "),t("router-view")],1),this._v(" "),t("Footer")],1)},staticRenderFns:[]};var u=n("VU/8")(s,o,!1,function(e){n("ucon")},null,null).exports,c=n("/ocq"),l=n("Dd8w"),d=n.n(l),m=n("NYxO"),f={props:["pageNum","currentPage","filterPageNum"],data:function(){return{}},methods:{getCurrentPage:function(e){var t=this.$route.path.split("/")[1];scrollTo(0,0),e<1||e>this.pageNum||("helloworld"==t?this.$store.commit("HomeModule/CURRENTPAGE",e):this.$store.commit("CollectModule/CURRENTPAGE",e))}},computed:{}},g={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("div",{staticClass:"prev"},[n("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.getCurrentPage(e.currentPage-1)}}},[n("i",{staticClass:"fas fa-angle-double-left"})])]),e._v(" "),n("div",[n("ul",{staticClass:"pageNum"},[e.currentPage-3>=1?n("li",{on:{click:function(t){return t.preventDefault(),e.getCurrentPage(1)}}},[n("a",{attrs:{href:""}},[e._v("1")])]):e._e(),e._v(" "),e.currentPage-3>=1?n("li",[e._v("...")]):e._e(),e._v(" "),e._l(e.filterPageNum,function(t){return n("li",{key:t,on:{click:function(n){return n.preventDefault(),e.getCurrentPage(t)}}},[n("a",{class:{selectColor:t==e.currentPage},attrs:{href:""}},[e._v(e._s(t))])])}),e._v(" "),e.currentPage+3<=e.pageNum?n("li",[e._v("...")]):e._e(),e._v(" "),e.currentPage+3<=e.pageNum?n("li",{on:{click:function(t){return t.preventDefault(),e.getCurrentPage(e.pageNum)}}},[n("a",{attrs:{href:""}},[e._v(e._s(e.pageNum))])]):e._e()],2)]),e._v(" "),n("div",{staticClass:"next"},[n("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.getCurrentPage(e.currentPage+1)}}},[n("i",{staticClass:"fas fa-angle-double-right"})])])])},staticRenderFns:[]};var v={props:["renderPageSelect","pageNumSelect","currentPageSelect","filterPageNum"],components:{Page:n("VU/8")(f,g,!1,function(e){n("6ui9")},"data-v-60885eda",null).exports},data:function(){return{}},methods:d()({},Object(m.b)("HomeModule",["getData"]),{favoriteToggle:function(e,t){this.$store.commit("CollectModule/FAVORITETOGGLE",{id:e,event:t})},isFavorite:function(e){return this.favoriteItemsId.includes(e)?"fas fa-heart":"far fa-heart"},itemPlay:function(e){this.$store.commit("ItemPlayModule/SETITEM",e),this.$router.push("/itemplay/"+e.id)}}),computed:d()({},Object(m.c)(["isLoading"]),Object(m.d)("CollectModule",["favoriteItemsId"])),watch:{},created:function(){this.getData()}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"box"},[n("loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),e._v(" "),e._l(e.renderPageSelect,function(t){return n("div",{key:t.id,staticClass:"singleItem",on:{click:function(n){return e.itemPlay(t)}}},[n("div",{staticClass:"card-top"},[n("img",{attrs:{src:t.snippet.thumbnails.medium.url,alt:""}}),e._v(" "),n("span",{staticClass:"duration"},[e._v(e._s(e._f("duration")(t.contentDetails.duration)))]),e._v(" "),n("a",{staticClass:"favorite",attrs:{href:""},on:{click:function(n){return n.preventDefault(),e.favoriteToggle(t.id,n)}}},[n("i",{class:e.isFavorite(t.id)})])]),e._v(" "),n("div",{staticClass:"card-bottom"},[n("h3",{staticClass:"ellipsis title"},[e._v(e._s(t.snippet.title))]),e._v(" "),n("p",{staticClass:"ellipsis"},[e._v(e._s(t.snippet.description))])])])})],2),e._v(" "),e.renderPageSelect.length>0?n("Page",{staticClass:"pagination",attrs:{"page-num":e.pageNumSelect,"current-page":e.currentPageSelect,"filter-page-num":e.filterPageNum}}):e._e()],1)},staticRenderFns:[]};var h=n("VU/8")(v,p,!1,function(e){n("a3C4")},"data-v-7d5500fd",null).exports,P={name:"HelloWorld",components:{RenderContent:h},data:function(){return{}},methods:{},computed:d()({},Object(m.c)("HomeModule",["renderPage","allPageNum"]),Object(m.d)("HomeModule",["currentPage"]),{renderPageSelect:function(){return this.renderPage},renderPageNum:function(){return this.allPageNum},filterPageNum:function(){var e=[];if(this.currentPage-2<=1)for(var t=1;t<6;t++)e.push(t);else if(this.currentPage+2>=this.allPageNum)for(t=this.allPageNum-4;t<this.allPageNum+1;t++)e.push(t);else for(t=this.currentPage-2;t<this.currentPage+3;t++)e.push(t);return e},currentPageSelect:function(){return this.currentPage}}),created:function(){}},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("RenderContent",{attrs:{"render-page-select":this.renderPageSelect,"page-num-select":this.renderPageNum,"current-page-select":this.currentPageSelect,"filter-page-num":this.filterPageNum}})],1)},staticRenderFns:[]};var C=n("VU/8")(P,_,!1,function(e){n("Cp7+")},"data-v-dcf021e8",null).exports,N={components:{RenderContent:h},data:function(){return{}},methods:{},computed:d()({},Object(m.c)("CollectModule",["renderFavoritePage","favoritePageNum","favoriteItems"]),Object(m.d)("CollectModule",["currentPage"]),{renderPageSelect:function(){return this.renderFavoritePage},renderPageNum:function(){return this.favoritePageNum},currentPageSelect:function(){return this.currentPage},filterPageNum:function(){var e=[];if(this.favoritePageNum>5)if(this.currentPage-2<=1)for(var t=1;t<6;t++)e.push(t);else if(this.currentPage+2>=this.favoritePageNum)for(t=this.favoritePageNum-4;t<this.favoritePageNum+1;t++)e.push(t);else for(t=this.currentPage-2;t<this.currentPage+3;t++)e.push(t);else for(t=1;t<this.favoritePageNum+1;t++)e.push(t);return e}}),created:function(){}},I={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("RenderContent",{attrs:{"render-page-select":e.renderPageSelect,"page-num-select":e.renderPageNum,"current-page-select":e.currentPageSelect,"filter-page-num":e.filterPageNum}}),e._v(" "),n("div",{staticClass:"blank"},[n("div",{staticClass:"container"},[n("p",[e._v("無任何收藏")]),e._v(" "),n("div",[n("router-link",{attrs:{to:"/helloworld"}},[e._v("前往首頁")])],1)])])],1)},staticRenderFns:[]};var b=n("VU/8")(N,I,!1,function(e){n("Huu6")},"data-v-9489022a",null).exports,S=n("63pp"),y={data:function(){return{myVideo:null}},methods:{getVideo:function(){this.myVideo=Object(S.a)("myVideo",{autoplay:!1,controls:!0,bigPlayButton:!0,sourceOrder:!0,textTrackDisplay:!1,posterImage:!1,errorDisplay:!1,flash:{hls:{withCredentials:!1}},html5:{hls:{withCredentials:!1}},hls:{withCredentials:!0},sources:[{type:"rtmp/mp4",src:"rtmp://184.72.239.149/vod/&mp4:BigBuckBunny_115k.mov"},{withCredentials:!1,type:"application/x-mpegURL",src:"https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8"}],controlBar:{timeDivider:!1,durationDisplay:!1,progressControl:!0,customControlSpacer:!0}})}},computed:d()({},Object(m.c)("ItemPlayModule",["setItem"])),created:function(){},mounted:function(){this.getVideo()},beforeDestroy:function(){},destroyed:function(){this.myVideo.dispose()}},T={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"box"},[n("div",{staticClass:"top"},[n("video",{ref:"videoPlayer",staticClass:"video-js vjs-big-play-centered",staticStyle:{width:"100%",height:"auto"},attrs:{id:"myVideo"}})]),e._v(" "),n("div",{staticClass:"bottom"},[n("div",{staticClass:"bottom-box"},[n("h1",{staticClass:"text"},[e._v(e._s(e.setItem.snippet.title))]),e._v(" "),n("pre",[e._v(e._s(e.setItem.snippet.description))])])])])])},staticRenderFns:[]};var k=n("VU/8")(y,T,!1,function(e){n("uMXc")},"data-v-2f9f084c",null).exports;a.a.use(c.a);var M=new c.a({routes:[{path:"*",redirect:"helloworld"},{path:"/helloworld",name:"HelloWorld",component:C},{path:"/collect",name:"Collect",component:b},{path:"/itemplay/:id",name:"ItemPlay",component:k}]}),w=n("mtWM"),A=n.n(w),D=n("Rf8U"),x=n.n(D),E={namespaced:!0,state:{data:{},items:[],itemNumPerPage:12,nextPageToken:"",currentPage:1},actions:{getData:function(e){var t=e.commit,n=e.getters,a="https://www.googleapis.com/youtube/v3/videos?part=snippet,contentDetails&chart=mostPopular&maxResults=50&key=AIzaSyCn6tgkvpqZ6iP8z4kfetv2wjub9tmenSA";t("LOADING",!0,{root:!0}),A.a.get(a).then(function(e){t("DATA",e.data);var r=a+"&pageToken="+n.nextPageToken;A.a.get(r).then(function(e){t("CONCATDATA",e.data.items)}),t("LOADING",!1,{root:!0})})}},mutations:{DATA:function(e,t){e.data=t,e.items=t.items,e.nextPageToken=t.nextPageToken||""},CONCATDATA:function(e,t){e.items=e.items.concat(t)},CURRENTPAGE:function(e,t){e.currentPage=t}},getters:{data:function(e){return e.data},items:function(e){return e.items},nextPageToken:function(e){return e.nextPageToken},allPageNum:function(e){return Math.ceil(e.items.length/e.itemNumPerPage)},renderPage:function(e){return e.items.filter(function(t,n){return n>=(e.currentPage-1)*e.itemNumPerPage&&n<=e.currentPage*e.itemNumPerPage-1})}}},O=n("mvHQ"),R=n.n(O),F={namespaced:!0,state:{favoriteItems:[],currentPage:1,favoriteItemsId:JSON.parse(localStorage.getItem("collect"))||[]},actions:{},mutations:{FAVORITETOGGLE:function(e,t){t.event.stopPropagation(),e.favoriteItemsId.includes(t.id)?e.favoriteItemsId.splice(e.favoriteItemsId.indexOf(t.id),1):e.favoriteItemsId.push(t.id),localStorage.setItem("collect",R()(e.favoriteItemsId))},CURRENTPAGE:function(e,t){e.currentPage=t}},getters:{favoriteItems:function(e,t,n){return n.HomeModule.items.filter(function(t){return e.favoriteItemsId.includes(t.id)})},favoritePageNum:function(e,t,n){return Math.ceil(t.favoriteItems.length/n.HomeModule.itemNumPerPage)},renderFavoritePage:function(e,t,n){return t.favoriteItems.filter(function(t,a){return a>=(e.currentPage-1)*n.HomeModule.itemNumPerPage&&a<=e.currentPage*n.HomeModule.itemNumPerPage-1})}}},H={namespaced:!0,state:{setItem:JSON.parse(localStorage.getItem("saveItem"))||""},actions:{},mutations:{SETITEM:function(e,t){e.setItem=t,localStorage.setItem("saveItem",R()(e.setItem))}},getters:{setItem:function(e){return e.setItem}}};a.a.use(m.a),a.a.use(x.a,A.a);var V=new m.a.Store({state:{isLoading:!1},actions:{isLoading:function(e,t){(0,e.commit)("LOADING",t)}},mutations:{LOADING:function(e,t){e.isLoading=t}},getters:{isLoading:function(e){return e.isLoading}},modules:{HomeModule:E,CollectModule:F,ItemPlayModule:H}}),L=n("ZZvs"),U=n.n(L);n("SYh3"),n("g3Gj");a.a.config.productionTip=!1,a.a.use(m.a),a.a.use(x.a,A.a),a.a.component("Loading",U.a),a.a.filter("duration",function(e){var t,n=/^PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?$/,a=0,r=0,i=0;if(n.test(e)){var s=n.exec(e);s[1]&&(a=Number(s[1])),s[2]&&(r=Number(s[2])),s[3]&&(i=Number(s[3])),t=3600*a+60*r+i}if(t<86400){var o=new Date("01/01/2000 0:00");return o.setSeconds(t),function(e){var t=e.getHours(),n=e.getMinutes(),a=e.getSeconds(),r="";return t>0&&(r+=(t>9?t.toString():"0"+t.toString())+":"),r+=(n>9?n.toString():"0"+n.toString())+":",r+=a>9?a.toString():"0"+a.toString()}(o)}return null}),new a.a({el:"#app",router:M,components:{App:u},template:"<App/>",store:V})},SYh3:function(e,t){},a3C4:function(e,t){},eoFw:function(e,t){},g3Gj:function(e,t){},uMXc:function(e,t){},ucon:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.b0c02ff593e6ea1b885d.js.map